#:include param_slider.kv

<CWColorButton>:
    size_hint: None, None
    size: dp(40), dp(40)
    radius: [dp(5)]
    on_release: self.on_color_select()
    parent: self.parent

    canvas:
        Color:
            rgba: self.background_color
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: self.radius

<CWColorPreview>:
    size_hint: None, None
    #size: dp(100), dp(100)
    #pos_hint: {'center_x': .5, 'center_y': .5}
    radius: [dp(10)]

    canvas:
        Color:
            rgba: self.color
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: self.radius

<CWColorWheel>:
    #size_hint: None, None
    #size: dp(150), dp(150)
    pos_hint: {'center_x': .5, 'center_y': .5}
    Image:
        source: 'color_wheel.png'
        size: self.size
        pos: self.pos

<CWColorPicker>:
    orientation: 'vertical'
    padding: dp(20)
    spacing: dp(20)
    size_hint: None, None
    size: dp(400), dp(160)
    pos_hint: {'center_x': .5, 'center_y': .5}

    MDBoxLayout:
        #size_hint: 1, None
        #size: 0, dp(200)
        
        CWColorWheel:
            size_hint: None, None
            size: dp(130), dp(130)
            #size_hint: 6, 10
            id: color_wheel

        MDBoxLayout:
            id: sliders_container
            #size_hint: 1, None
            #size: 0, dp(130)
            orientation: 'vertical'
            pos_hint: {'center_x': .5, 'center_y': .4}

            CWColorPreview:
                #size_hint: 1, 0.5
                height: dp(20)
                id: preview
                #padding: dp(20)
                #spacing: dp(20)
                #pos_hint: {'center_x': .5, 'center_y': .5}
                color: root.current_color

            ParamSlider:
                text: 'R:'
                label_width: dp(20)
                id: slider_red
                min: 0
                max: 255
                value: 255
                on_slider: root.on_slider_change_rgb()

            ParamSlider:
                text: 'G:'
                label_width: dp(20)
                id: slider_green
                min: 0
                max: 255
                value: 0
                on_slider: root.on_slider_change_rgb()

            ParamSlider:
                text: 'B:'
                label_width: dp(20)
                id: slider_blue
                min: 0
                max: 255
                value: 0
                on_slider: root.on_slider_change_rgb()

            ParamSlider:
                text: 'H:'
                label_width: dp(20)
                id: slider_hue
                min: 0
                max: 360
                value: 0
                on_slider: root.on_slider_change_hls()

            ParamSlider:
                text: 'L:'
                label_width: dp(20)
                id: slider_lum
                min: 0
                max: 100
                value: 50
                on_slider: root.on_slider_change_hls()

            ParamSlider:
                text: 'S:'
                label_width: dp(20)
                id: slider_sat
                min: 0
                max: 100
                value: 100
                on_slider: root.on_slider_change_hls()
